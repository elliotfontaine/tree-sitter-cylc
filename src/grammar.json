{
  "name": "cylc",
  "rules": {
    "configuration_file": {
      "type": "REPEAT",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "root_section"
          },
          {
            "type": "SYMBOL",
            "name": "include_statement"
          }
        ]
      }
    },
    "root_section": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "FIELD",
          "name": "name",
          "content": {
            "type": "SYMBOL",
            "name": "nametag"
          }
        },
        {
          "type": "STRING",
          "value": "]"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "SYMBOL",
                "name": "setting"
              }
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "SYMBOL",
                    "name": "subsection_1"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "graph_section"
                  }
                ]
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "subsection_1": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "[["
        },
        {
          "type": "FIELD",
          "name": "name",
          "content": {
            "type": "SYMBOL",
            "name": "nametag"
          }
        },
        {
          "type": "STRING",
          "value": "]]"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "SYMBOL",
                "name": "setting"
              }
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "SYMBOL",
                "name": "subsection_2"
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "graph_section": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "[["
        },
        {
          "type": "STRING",
          "value": "graph"
        },
        {
          "type": "STRING",
          "value": "]]"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "SYMBOL",
                "name": "recurrence"
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "subsection_2": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "[[["
        },
        {
          "type": "FIELD",
          "name": "name",
          "content": {
            "type": "SYMBOL",
            "name": "nametag"
          }
        },
        {
          "type": "STRING",
          "value": "]]]"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "SYMBOL",
                "name": "setting"
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "setting": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "key",
          "content": {
            "type": "SYMBOL",
            "name": "key"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "value",
              "content": {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": "\n"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "quoted_string"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "multiline_string"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "number"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "boolean"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "unquoted_string"
                  }
                ]
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "recurrence": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "cyclepoints",
          "content": {
            "type": "SYMBOL",
            "name": "cyclepoints"
          }
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "FIELD",
              "name": "graph_string",
              "content": {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": "\n"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "quoted_string"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "multiline_string"
                  },
                  {
                    "type": "SYMBOL",
                    "name": "unquoted_string"
                  }
                ]
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "multiline_string": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 8,
        "content": {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "\"\"\""
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "PATTERN",
                        "value": "[^\"\\\\]"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\\\\."
                      },
                      {
                        "type": "PATTERN",
                        "value": "\"[^\"]"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\"\"[^\"]"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\\\\\\s*\\n"
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": "\"\"\""
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "'''"
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "PATTERN",
                        "value": "[^'\\\\]"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\\\\."
                      },
                      {
                        "type": "PATTERN",
                        "value": "'[^']"
                      },
                      {
                        "type": "PATTERN",
                        "value": "''[^']"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\\\\\\s*\\n"
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": "'''"
                }
              ]
            }
          ]
        }
      }
    },
    "quoted_string": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 4,
        "content": {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "\""
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "PATTERN",
                        "value": "[^\"\\\\]"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\\\\."
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": "\""
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "'"
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "PATTERN",
                        "value": "[^'\\\\]"
                      },
                      {
                        "type": "PATTERN",
                        "value": "\\\\."
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": "'"
                }
              ]
            }
          ]
        }
      }
    },
    "number": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 2,
        "content": {
          "type": "PATTERN",
          "value": "\\d+"
        }
      }
    },
    "comment": {
      "type": "PREC",
      "value": 3,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "STRING",
            "value": "#"
          },
          {
            "type": "PATTERN",
            "value": ".*"
          }
        ]
      }
    },
    "unquoted_string": {
      "type": "PREC",
      "value": 1,
      "content": {
        "type": "PATTERN",
        "value": "[^\"'#\\s\\n][^#\\n]+"
      }
    },
    "nametag": {
      "type": "PATTERN",
      "value": "[a-zA-Z0-9\\-_+%@]+"
    },
    "key": {
      "type": "PATTERN",
      "value": "[a-zA-Z0-9_-]+(\\s[a-zA-Z0-9_-]+)*"
    },
    "cyclepoints": {
      "type": "PATTERN",
      "value": "[a-zA-Z0-9\\/\\^\\$\\-\\+\\!\\_\\(\\)]+"
    },
    "boolean": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 2,
        "content": {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "True"
            },
            {
              "type": "STRING",
              "value": "False"
            }
          ]
        }
      }
    },
    "include_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "%include"
        },
        {
          "type": "FIELD",
          "name": "path",
          "content": {
            "type": "SYMBOL",
            "name": "quoted_string"
          }
        }
      ]
    },
    "jinja2_expression": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 100,
        "content": {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "{{"
            },
            {
              "type": "PATTERN",
              "value": "[^{}]*"
            },
            {
              "type": "STRING",
              "value": "}}"
            }
          ]
        }
      }
    },
    "jinja2_statement": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 100,
        "content": {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "{%"
            },
            {
              "type": "PATTERN",
              "value": "[^%]*"
            },
            {
              "type": "STRING",
              "value": "%}"
            }
          ]
        }
      }
    },
    "jinja2_comment": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 100,
        "content": {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "{#"
            },
            {
              "type": "PATTERN",
              "value": "[^#]*"
            },
            {
              "type": "STRING",
              "value": "#}"
            }
          ]
        }
      }
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "\\s"
    },
    {
      "type": "SYMBOL",
      "name": "jinja2_expression"
    },
    {
      "type": "SYMBOL",
      "name": "jinja2_statement"
    },
    {
      "type": "SYMBOL",
      "name": "jinja2_comment"
    },
    {
      "type": "SYMBOL",
      "name": "comment"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}
